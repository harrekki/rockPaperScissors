<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Rock, Paper Scissors!</title>
		<meta charset="UTF-8" />
		<style>
			html, body {
				background-color: black;
				color: whitesmoke;
			}

			h1 {
				font-family: Tahoma, Geneva, sans-serif;
				font-size: 2em;
				text-align: center;
			}
		</style>
	</head>
	
<body>
	<h1>Rock, Paper, Scissors!</h1>
	<script>
		//Create function game() to play 5 rounds, accumulate totals, and declare a winner
		function game() {
			let playerScore = 0;
			let compScore = 0;
			let playerWins;
			//Function to generate computer's choice by random selection from array
			function computerPlay() {
				let newArray = ["rock","paper","scissors"];
				return newArray[Math.floor(Math.random() * newArray.length)];
			}
			//Create function playRound() to play one round against the computer
			function playRound(answer, computerPlay) {			
				//make arguments case insensitive
				let playerSelect = answer.toUpperCase();
				let compSelect = computerPlay().toUpperCase();
				//asign a value to playerWins that will asigned a value of true if player is winner,
				//a value of undefined if it is a draw, and a value of false if computer is the winner
				if((playerSelect == "ROCK" && compSelect == "SCISSORS") ||
					   (playerSelect == "PAPER" && compSelect == "ROCK") ||
					   (playerSelect == "SCISSORS" && compSelect == "PAPER")) {
							playerWins = true;
					} else if(playerSelect == compSelect){
						playerWins = undefined;
					} else {
							playerWins = false;
					}
				//Determine the winner of the round
				if(playerWins == true) {
					return alert("You win! " + playerSelect + " beats " + compSelect);
				} else if(playerWins == false) {
					return alert("You lose! " + compSelect + " beats " + playerSelect);
				} else {
					return alert("It's a draw!");
				}
			}
			//for loop that plays 5 rounds
			for(i = 1; i <= 5; i++) {
				//prompt player to choose either rock, paper, or scissors
				let answer = window.prompt("Round " + i + " of  5\n" + "Rock, Paper, or Scissors?","Choose one");
				playRound(answer, computerPlay);
				//Calculate scores
				if(playerWins == true) {
					playerScore += 1;
				} else if(playerWins == false) {
				compScore += 1;
				}
				alert("Player's Score: " + playerScore + " -- Computer's Score: " + compScore);
			}
			//Declare winner of the game
			if(playerScore > compScore) {
				alert("You are the Winner! :-)");
			} else if(compScore > playerScore) {
				alert("You lost! :-(");
			} else {
				alert("It's a tie!");
			}
		}
		console.log(game());
		//Function to ask player to replay
		function endOfFile() {
			let playAgain = prompt("Do you want to play again? Yes or No");
			let playAgainCaps = playAgain.toUpperCase();
			if(playAgainCaps == "YES") {
				console.log(game());
			} else {
			alert("Thanks for playing!!!");
			}
		}
		console.log(endOfFile());
 	</script>
</body>
</html>